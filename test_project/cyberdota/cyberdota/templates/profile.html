<!DOCTYPE html>
{% load static %}
<html>
	<head>
		<title>Test</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="{% static 'cyberdota/css/flagicon.css' %}" >
        <link rel="stylesheet" type="text/css" href="{% static 'cyberdota/css/stylesheets/dota2minimapheroes.css' %}">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
        <link rel="stylesheet" type="text/css" href="{% static 'hover.css' %}">
        <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet">
        <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/element-ui/lib/index.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

	</head>
	<style type="text/css">
		@font-face{
			font-family: SanFrancisco;
			src: url({% static 'SF-UI/SF-UI-Text-Light.otf' %});
		}
		html,body{
			height: 100%;
			margin: 0;
			background-color: #343a40;
			color: white;
			font-family: SanFrancisco,sans-serif
		}
		#container{
			height: 100%;
			width: 100%;
			display: flex;
			flex-direction: row;
			justify-content: space-around;
		}
		.info{
			order: 1;
			width: 50%;
			height: 100%;
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			margin-top: 25px;
			margin-left: 15px;
			margin-bottom: 15px;

		}
		.info1{
			order: 1;
			width: 50%;
			height: 100%;
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			margin-top: 25px;
			margin-left: 15px;
			margin-bottom: 15px;

		}		
		#person_info{
			order: 1;
			flex-grow: 1;
			width: 66%;
			display: flex;
			flex-direction: column;
			background-color: rgb(33, 37, 41);
			margin-left: 15px
		}
		#person_table{
			order: 2;
			flex-grow: 3;
			width: 100%;
			display: flex;
			flex-direction: column;
			justify-content: space-around;
		}
		#team_table{
			order: 1;
			flex-grow: 4;
			height: 100%;
			width: 100%;
			display: flex;
			flex-direction: row;
			justify-content: space-around;
		}
		.p_data{
			order: 1;
			flex-grow: 1;
			width: 100%;
			display: flex;
			flex-direction: row;
			justify-content: space-around;
		}
		.fst_info{
			margin-top: 15px
		}
		#pers_scnd_inf{
			order: 2;
			flex-grow: 1;
			display: flex;
			flex-direction: row;
		}
		#pers_thd_inf{
			order: 2;
			flex-grow: 0.5;
			display: flex;
			flex-direction: row;
		}
		#pers_history{
			order: 3;
			flex-grow: 15;
		}
		#role{
			order: 1;
			flex-grow: 1;
			display: flex;
			flex-direction: row;
			justify-content: space-around;
			align-items: baseline;
		}
		#pers_best{
			order: 2;
			flex-grow: 2;
			display: flex;
			flex-direction: row;
			justify-content: space-around;
			align-items: baseline;
		}
		#wr{
			order: 1;
			flex-grow: 1;
			display: flex;
			flex-direction: row;
			justify-content: space-around;
		}
		#matches{
			order: 1;
			flex-grow: 1;
			display: flex;
			flex-direction: row;
			justify-content: space-around;			
		}
		#invite{
			order: 5;
			flex-grow: 0.5;
			display: flex;
			flex-direction: row;
			justify-content: space-around;
		}
		#p_games{
			height: 100%
		}
		#pers_team{
			order: 4;
			flex-grow: 2;
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			align-content: center;
		}
		#nm{
			order: 1;
			flex-grow: 1;
			margin-top: 15px;
			margin-left: 15px;
			height: 100%;
			width: 100%;
		}
		#team_name{
			width: 100%;
		}
		#hero_graph{
			order: 1;
			flex-grow: 1;
			margin: 10px;
		}
		#desc{
			order:1;
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			background-color: rgb(33, 37, 41);
			margin-left: 15px;
			margin-right: 15px
		}
		#name_photo{
			order: 1;
			flex-grow: 1;
			display: flex;
			flex-direction: row;
		}
		#name_photo_name{
			order: 1;
			flex-grow: 1;
		}
		.p_table{
			order: 1;
			flex-grow: 1;
			width: 100%;
		}
		#graphics{
			order: 2;
			flex-grow: 2;
			display: flex;
			flex-direction: row;
			margin-top: 15px;
			width: 65%;
			margin-left: 15px
		}
		.graph{
			order: 2;
			flex-grow: 2;
		}		
	</style>
	<body>
		<el-container>
			<div id="b">
				<navigation></navigation>
			</div>
			<div id="container">
				<div class="info">
					<div id="person_info" class="shadow-lg rounded">
						<div class="p_data border-bottom border-secondary">
							<div class="name fst_info " style="margin-top: 25px">
								<img class="rounded-circle" src="{{ data.avatar }}" style="height: 50px">
								<span style="font-size: 25px; margin-left: 5px;">{{data.name}}</span>
							</div>
							<img class="fst_info hvr-bob" src="{{data.rank.avatar}}" style="height: 60px">
						</div>
						<div id="pers_scnd_inf" class="border-bottom border-secondary">
							<div class="hvr-bob" id="role">
								<a style="font-size: 25px; color: #409EFF; margin-top: 20px">Support</a>
							</div>
							<div id="pers_best" class="border-left border-secondary">
								{% for i in heroes %}
									<i class="d2mh hero-{{i.id}}" style="margin-top: 25px"></i>
								{% endfor %}
							</div>
						</div>
						<div id="pers_thd_inf" class="border-bottom border-secondary">
							<div class="border-right border-secondary" id="matches" style="font-size: 25px">
								<span style="color: #A9CF54; margin-top: 15px"> {{wl.wins}} </span>
								<span style="margin-top: 15px"> - </span>
								<span style="color: #C23C2A; margin-top: 15px"> {{wl.loses}} </span>
							</div>
							<div id="wr" style="font-size: 25px">
								{% if wr >= 50 %}
									<div id="notice1" style="color: #A9CF54; margin-top: 15px">
										<span @mouseover="act1 = false" @mouseleave="act1 = true" v-if="act1">{{wr}}%</span>
										<span @mouseover="act1 = true" v-if="act1 === false"> WR</span>
									</div>
								{% else %}
									<div id="notice" style="color: #C23C2A; margin-top: 15px">
										<span @mouseover="act = false" v-if="act">{{wr}}%</span>
										<span @mouseover="act = true" v-if="act === false"> WR</span>
									</div>
								{% endif %}		
							</div>
						</div>
						<div id="pers_team">
							{% if data.team != "None" %}
								<div id="team_name"  class="hvr-bob">
									<div id="nm"><img src="{{data.team.avatar}}" style="height: 40px; width: 40px; order: 1;"> <a style="order: 2; flex-grow: 3; color: #409EFF; font-size: 25px; margin-left: 5px"> {{data.team.name}} </a> </div>
								</div>
							{% else %}
								<div id="team_name">
									{% if you %}
										<div id="you_n" style="display: flex; flex-direction: column; align-items: center;">
											<a style="font-size: 25px; color: #409EFF; order: 1; margin-top: 10px;">You don't have a team :(</a>
											<button style="order: 2; width: 50%; margin-top: 10px;" @click="find" class="btn btn-primary">
												Find
											</button>
										</div>
									{% else %}
										<div>
											This person doesn't have any team
										</div>
									{% endif %}		
								</div>
							{% endif %}									
						</div>
						{% if you == False and exist %}
						<div class="border-top border-secondary" id="invite">	<button class="btn btn-primary" style="height: 70%; width: 35%; margin-top: 10px"> Invite </button> </div>
						{% elif you == False and exist == False%}
						<div class="border-top border-secondary" id="invite">	<button class="btn btn-primary" title="We don't have info about this person"> Invite </button> </div>
						{% endif %}
					</div>
					<div id="graphics">
							<div class="graph rounded shadow-lg" style="background-color: rgb(33, 37, 41); width: 50%; height: 70%">
								<canvas id="game_graph"></canvas>
							</div>
							<div class="graph rounded shadow-lg" style="background-color: rgb(33, 37, 41); width: 50%; margin-left: 10px; height: 70%">
								<canvas id="stat_graph"></canvas>
							</div>
					</div>						
				</div>
				<div class="info1" style="margin-bottom: 15px">
					<div id="person_table">
						<div id="desc" class="shadow-lg rounded">
							<div id="name_photo" class="border-bottom border-secondary">
								<div id="name_photo_name">
									<img src="https://pp.userapi.com/c841124/v841124900/ec4/flPV3UK1hG4.jpg" style="height: 150px; width: 120px">
								</div>
							</div>
						</div>	
					</div>	      
				</div>								

		</el-container>	
	<script src="{% static 'main.js' %}"></script>
	<script type="text/javascript">
		Chart.defaults.global.defaultFontColor = '#dee2e6';
		Chart.defaults.global.defaultFontFamily = 'SanFrancisco';
		var p_games = document.getElementById('game_graph').getContext('2d');
		var p_games = new Chart(p_games, {
			type: 'doughnut',
			data: {
				labels: ["Wins for last 6 games", "Loses for last 6 games"],
				datasets:[{
					label: "Last 6 games",
					data: [{{wins_loses.wins}}, {{wins_loses.loses}}],
					backgroundColor: ["#4682B4", "#CD5C5C"],
					borderColor: "#343a40",
					
				}],
			}
		});
		var p_stats = document.getElementById('stat_graph').getContext('2d');
		var p_stats = new Chart(p_stats, {
			type: 'radar',
			data: {
				labels:["Farm", "Wards", "Heal", "Siege", "Fights"],
				datasets:[{
					label: "Avg",
					data: [{{fa_avg}}, 2.5, 4.5, 5, {{fi_avg}}],
					fill: false,
					backgroundColor: "#4682B4",	
					pointBackgroundColor: "#CD5C5C",
					borderColor: "#4682B4",
					borderWidth: 2,
  					hoverBorderWidth: 0				
				}]	
			},
			options: {
				scale:{
					ticks:{
						display: false,
						beginAtZero: true,
						max: 5
					},
					gridLines:{
						color: "#343a40",
					},
					angleLines:{
						color: "#343a40",
					},
					pointLabels:{
						fontSize: "16px",
						fontFamily: "Poppins",
					}
				},				
			}			
		});
		var notice = new Vue({
			el: '#notice',
			data: {
				act: true,
			}
		});
		var notice1 = new Vue({
			el: '#notice1',
			data: {
				act1: true,
			}
		});
		var find_t = new Vue({
			el: '#you_n',
			methods: {
				find: function(){
					window.location.replace("http://127.0.0.1:8090/search")
				}
			}
		})		
	</script>	
	</body>
</html>